pipeline {
	agent any
	stages {
		stage('Clean stage'){
			steps {
				withMaven(maven: 'maven_3_6_0'){
					sh 'mvn clean'
				}
			}
		}

		stage('Compile stage'){
			steps {
				withMaven(maven: 'maven_3_6_0'){
					sh 'mvn compile'
				}
			}
		}

		stage('Test Compile stage'){
			steps {
				withMaven(maven: 'maven_3_6_0'){
					sh 'mvn test-compile'
				}
			}
		}

		stage('Test stage'){
			steps {
				withMaven(maven: 'maven_3_6_0'){
					sh 'mvn test'
				}
			}
		}

		stage('Install stage'){
			steps {
				withMaven(maven: 'maven_3_6_0'){
					sh 'mvn install'
				}
			}
		}
	}
}
